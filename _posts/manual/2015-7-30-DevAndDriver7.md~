---
layout: post
title: Linux设备驱动模型及其他(6)
description: 扫描次层总线（枚举与配置设备）
category: manual
---

>上章讲到完成了根总线以及次层总线的扫描，并为所有pci设备完成了分配结构和串联等工作

##PCI设备中断和地址映射配置

从这里开始就要统筹地进行对设备的设置了。这种设置包括两个方面：
<ul>
<li>1.设备的中断请求线与系统中断控制器之间的连接.</li>
<li>2.设备上各个区间在总线上的地址映射.</li>
</ul>
也就是从前需要通过跳线设置的两个内容。不过，实际上很可能BIOS已经在系统加电自检的阶段就完成了设置，所以这里往往只是加以确认。

另外，系统中除了0号总线之外可能还存在其他的主总线，也要加以扫描，但是出于效率的考虑，这种扫描要推迟到处理中断请求先才进行。 


##参考目录
[1]《Linux内核情景分析》[中]毛德操等 [著]

[2]《深入Linux内核架构》[德]Wolfgang Mauerer 著 [中]郭旭 译

